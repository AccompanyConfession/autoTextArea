(function(L,H,G,A){var J;var K;var D=!!G.getBoxObjectFor||"mozInnerScreenX" in H;var N=!!H.opera&&!!H.opera.toString().indexOf("Opera");var E=function(Q,P){this.$element=Q,this.defaults={"maxHeight":500,"extra":0,"message":"请输入内容"},this.options=L.extend({},this.defaults,P)};L.fn.autoTextarea=function(Q){J=this;var P=new E(this,Q);K=P.options;O();C(K.extra,K.maxHeight);return P};function O(){J.mouseover(function(){if(J.val()===K.message){J.val("")}});J.blur(function(){if(J.val()===""){J.val(K.message)}});J.bind("input propertychange",function(){B()});J.focus(function(){B()})}function C(P,Q){minHeight=parseFloat(I("height"));J.css("resize","none")}function I(P){return J[0].currentStyle?M(P):F(P)}function M(Q){var R=J[0].currentStyle[Q];if(Q==="height"&&R.search(/px/i)!==1){var P=J[0].getBoundingClientRect();return P.bottom-P.top-parseFloat(I("paddingTop"))-parseFloat(I("paddingBottom"))+"px"}return R}function F(P){return getComputedStyle(J[0],null)[P]}function B(){var R,P,Q=0;if(J[0]._length===J[0].value.length){return}J[0]._length=J[0].value.length;if(!D&&!N){Q=parseInt(I("paddingTop"))+parseInt(I("paddingBottom"))}R=G.body.scrollTop||G.documentElement.scrollTop;J.css("height",minHeight+"px");if(J[0].scrollHeight>minHeight){if(K.maxHeight&&J[0].scrollHeight>K.maxHeight){P=K.maxHeight-Q;J.css("overflowY","auto")}else{P=J[0].scrollHeight-Q;J.css("overflowY","hidden");if(P<504){P=P-3}}J.css("height",P+K.extra+"px");R+=parseInt(J.css("height"))-J[0].currHeight;G.body.scrollTop=R;G.documentElement.scrollTop=R;J[0].currHeight=parseInt(J.css("height"))}}})(jQuery,window,document);